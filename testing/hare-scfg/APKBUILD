# Contributor: Francesco Camuffo <dev@fmac.xyz>
maintainer="Achill Gilgenast <achill@achill.org>"
pkgname=hare-scfg
pkgver=0.24.2_git20250509
_commit=ab278267d88ae1a86a8351dc5b9b87e7d516f43a
pkgrel=0
pkgdesc="scfg implementation for Hare"
url="https://git.sr.ht/~chrisppy/hare-scfg"
arch="noarch !armhf !armv7 !ppc64le !s390x !x86 !loongarch64" # blocked by hare
license="MPL-2.0"
makedepends="hare"
source="$pkgname-$_commit.tar.gz::https://git.sr.ht/~chrisppy/hare-scfg/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

export HARECACHE="${HARECACHE:-"$srcdir/hare-cache"}"

build() {
	make -j1 PREFIX=/usr
}

check() {
	make check
}

package() {
	make DESTDIR="$pkgdir" PREFIX=/usr install
}

sha512sums="
939d7dd86c003dd2d4d750661d460c4ef90ffa2ce5773027e6a6dd3fb578c962f44d1615c8941fbb2aa2627509fe24215d90b7309b8ae3f5f4b189d9e343b712  hare-scfg-ab278267d88ae1a86a8351dc5b9b87e7d516f43a.tar.gz
"
